<?xml version="1.0"?>
<cd:ProductDefinition xmlns:cd="http://www.stcorp.nl/coda/definition/2008/07" xmlns:ct="http://www.stcorp.nl/coda/test/2008/10" id="TLM_ASP___" format="binary" last-modified="2020-02-25">
  <cd:Array>
    <cd:Dimension><![CDATA[$num_dsr]]></cd:Dimension>
    <cd:Record format="binary">
      <cd:Description>Annotated Instrument Source Packet</cd:Description>
      <cd:Field name="ISP_annotation_header">
        <cd:NamedType id="ISP_annotation_header"/>
      </cd:Field>
      <cd:Field name="ISP">
        <cd:Record format="binary">
          <cd:Description>Instrument Source Packet</cd:Description>
          <cd:Field name="packet_header">
            <cd:NamedType id="ISP_packet_header"/>
          </cd:Field>
          <cd:Field name="data_header">
            <cd:NamedType id="ISP_data_field_header"/>
          </cd:Field>
          <cd:Field name="private_header">
            <cd:Record format="binary">
              <cd:Field name="SID">
                <cd:Integer>
                  <cd:BitSize>8</cd:BitSize>
                  <cd:NativeType>uint8</cd:NativeType>
                </cd:Integer>
              </cd:Field>
            </cd:Record>
          </cd:Field>
          <cd:Field name="data">
              <cd:Union format="binary">
                <cd:FieldExpression><![CDATA[with(k=int(../../private_header/SID), if(k==105, 0, if(k==213, 1, -1)))]]></cd:FieldExpression>
                <cd:Field name="tm_adb">
                  <cd:Record format="binary">

                    <cd:Field name="rest">
                      <cd:Raw>
                        <cd:BitSize><![CDATA[(int(../../../packet_header/packet_length)+1-12-2-1)*8]]></cd:BitSize>
                      </cd:Raw>
                    </cd:Field>

                  </cd:Record>

                </cd:Field>


                <cd:Field name="nav_sol">
                  <cd:Record format="binary">
                    <cd:Field name="filler">
                      <cd:Raw>
                        <cd:BitSize>24</cd:BitSize>
                      </cd:Raw>
                      <cd:Hidden/>
                    </cd:Field>

                    <cd:Field name="rest">
                      <cd:Raw>
                        <cd:BitSize><![CDATA[(int(../../../packet_header/packet_length)+1-12-2-1-3)*8]]></cd:BitSize>
                      </cd:Raw>
                    </cd:Field>


                  </cd:Record>
                </cd:Field>
              </cd:Union>
          </cd:Field>





          <cd:Field name="CRC">
            <cd:Integer>
              <cd:Description>Packet Error Control (CRC)</cd:Description>
              <cd:BitSize>16</cd:BitSize>
              <cd:NativeType>uint16</cd:NativeType>
            </cd:Integer>
          </cd:Field>
        </cd:Record>
      </cd:Field>
    </cd:Record>
  </cd:Array>
  <cd:ProductVariable name="num_dsr">
    <cd:Init><![CDATA[$num_dsr = unboundindex(/, byteoffset(.) >= filesize())]]></cd:Init>
  </cd:ProductVariable>
</cd:ProductDefinition>
